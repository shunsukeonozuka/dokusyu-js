<script>
    // イテレータの定義（渡された値を2倍にする）
    function doubleIterator() {
        let index = 0;
        let arry = this;

        return {
            next() {
                if (index < arry.length) {
                    return {
                        done: false,
                        value: arry[index++] * 2, //値を2倍にして返す
                    };
                } else {
                    return {
                        done: true,
                    };
                }
            },
        };
    }

    // イテレータ登録前の確認
    for (let item of [1, 2, 3]) {
        console.log(item);
    }
    // >1
    // >2
    // >3

    Array.prototype[Symbol.iterator] = doubleIterator; //既存のイテレータを上書き

    for (let item of [1, 2, 3]) {
        console.log(item);
    }
    // >2
    // >4
    // >6
</script>
