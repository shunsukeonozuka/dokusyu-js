<script>
    // イテレータを生成する関数
    function genIterator(max) {
        let value = 0;

        return {
            next() {
                if (value < max) {
                    return {
                        done: false, //doneがfalseの場合は反復処理の継続を表す
                        value: value++,
                    };
                } else {
                    return {
                        done: true, //doneがtrueの場合は反復処理の終了を表す
                    };
                }
            },
        };
    }

    const iterator = genIterator(3);

    console.log(iterator.next());
    // >{done: false, value: 0}

    console.log(iterator.next());
    // >{done: false, value: 1}

    console.log(iterator.next());
    // >{done: false, value: 2}

    console.log(iterator.next());
    // >{done: true}
</script>
